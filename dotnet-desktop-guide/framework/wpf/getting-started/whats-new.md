---
title: WPF Version 4.5 の新機能
titleSuffix: ''
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Presentation Foundation [WPF], what's new
- WPF [WPF], what's new
ms.assetid: db086ae4-70bb-4862-95db-2eaca5216bc3
ms.openlocfilehash: e6511e298201202c9f2917af8bcf5f3832dd0149
ms.sourcegitcommit: 9f6df084c53a3da0ea657ed0d708a72213683084
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/09/2020
ms.locfileid: "96974473"
---
# <a name="whats-new-in-wpf-version-45"></a><span data-ttu-id="7cdad-102">WPF Version 4.5 の新機能</span><span class="sxs-lookup"><span data-stu-id="7cdad-102">What's New in WPF Version 4.5</span></span>
<a name="introduction"></a> <span data-ttu-id="7cdad-103">このトピックでは、[!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)] Version 4.5 の新機能および拡張機能について説明します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-103">This topic contains information about new and enhanced features in [!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)] version 4.5.</span></span>  
  
 <span data-ttu-id="7cdad-104">このトピックは、次のセクションで構成されています。</span><span class="sxs-lookup"><span data-stu-id="7cdad-104">This topic contains the following sections:</span></span>  
  
- [<span data-ttu-id="7cdad-105">リボン コントロール</span><span class="sxs-lookup"><span data-stu-id="7cdad-105">Ribbon control</span></span>](#ribbon_control)  
  
- [<span data-ttu-id="7cdad-106">グループ化された大きなデータ セットを表示する際のパフォーマンスが向上</span><span class="sxs-lookup"><span data-stu-id="7cdad-106">Improved performance when displaying large sets of grouped data</span></span>](#grouped_virtualization)  
  
- [<span data-ttu-id="7cdad-107">VirtualizingPanel の新機能</span><span class="sxs-lookup"><span data-stu-id="7cdad-107">New features for the VirtualizingPanel</span></span>](#VirtualizingPanel)  
  
- [<span data-ttu-id="7cdad-108">静的プロパティへのバインド</span><span class="sxs-lookup"><span data-stu-id="7cdad-108">Binding to static properties</span></span>](#static_properties)  
  
- [<span data-ttu-id="7cdad-109">非 UI スレッドでのコレクションへのアクセス</span><span class="sxs-lookup"><span data-stu-id="7cdad-109">Accessing collections on non-UI Threads</span></span>](#xthread_access)  
  
- [<span data-ttu-id="7cdad-110">データの同期および非同期検証</span><span class="sxs-lookup"><span data-stu-id="7cdad-110">Synchronously and Asynchronously validating data</span></span>](#INotifyDataErrorInfo)  
  
- [<span data-ttu-id="7cdad-111">データ バインディングのソースの自動更新</span><span class="sxs-lookup"><span data-stu-id="7cdad-111">Automatically updating the source of a data binding</span></span>](#delay)  
  
- [<span data-ttu-id="7cdad-112">ICustomTypeProvider を実装する型へのバインド</span><span class="sxs-lookup"><span data-stu-id="7cdad-112">Binding to types that Implement ICustomTypeProvider</span></span>](#ICustomTypeProvider)  
  
- [<span data-ttu-id="7cdad-113">バインディング式からのデータ バインディング情報の取得</span><span class="sxs-lookup"><span data-stu-id="7cdad-113">Retrieving data binding information from a binding expression</span></span>](#binding_state)  
  
- [<span data-ttu-id="7cdad-114">有効な DataContext オブジェクトの確認</span><span class="sxs-lookup"><span data-stu-id="7cdad-114">Checking for a valid DataContext object</span></span>](#DisconnectedSource)  
  
- [<span data-ttu-id="7cdad-115">データの値変更に伴うデータの再配置 (ライブ形成)</span><span class="sxs-lookup"><span data-stu-id="7cdad-115">Repositioning data as the data's values change (Live shaping)</span></span>](#live_shaping)  
  
- [<span data-ttu-id="7cdad-116">イベントへの弱い参照確立のサポート強化</span><span class="sxs-lookup"><span data-stu-id="7cdad-116">Improved Support for Establishing a Weak Reference to an Event</span></span>](#weak_event_pattern)  
  
- [<span data-ttu-id="7cdad-117">ディスパッチャー クラスの新しいメソッド</span><span class="sxs-lookup"><span data-stu-id="7cdad-117">New methods for the Dispatcher class</span></span>](#async)  
  
- [<span data-ttu-id="7cdad-118">イベントのマークアップ拡張機能</span><span class="sxs-lookup"><span data-stu-id="7cdad-118">Markup Extensions for Events</span></span>](#events_markup_extenions)  
  
<a name="ribbon_control"></a>
## <a name="ribbon-control"></a><span data-ttu-id="7cdad-119">リボン コントロール</span><span class="sxs-lookup"><span data-stu-id="7cdad-119">Ribbon control</span></span>  
 <span data-ttu-id="7cdad-120">WPF 4.5 には、クイック アクセス ツール バー、アプリケーション メニュー、タブをホストする <xref:System.Windows.Controls.Ribbon.Ribbon> コントロールが付属しています。</span><span class="sxs-lookup"><span data-stu-id="7cdad-120">WPF 4.5 ships with a <xref:System.Windows.Controls.Ribbon.Ribbon> control that hosts a Quick Access Toolbar, Application Menu, and tabs.</span></span>  <span data-ttu-id="7cdad-121">詳細については、「[リボンの概要](/visualstudio/vsto/ribbon-overview)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7cdad-121">For more information, see the [Ribbon Overview](/visualstudio/vsto/ribbon-overview).</span></span>  
  
<a name="grouped_virtualization"></a>
## <a name="improved-performance-when-displaying-large-sets-of-grouped-data"></a><span data-ttu-id="7cdad-122">グループ化された大きなデータ セットを表示する際のパフォーマンスが向上</span><span class="sxs-lookup"><span data-stu-id="7cdad-122">Improved performance when displaying large sets of grouped data</span></span>  
 <span data-ttu-id="7cdad-123">UI の仮想化は、ユーザー インターフェイス (UI) 要素のサブセットが画面上に表示する項目に基づいて、より多くのデータ項目から生成されるときに行われます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-123">UI virtualization occurs when  a subset of user interface (UI) elements are generated from a larger number of data items based on which items are visible on the screen.</span></span> <span data-ttu-id="7cdad-124"><xref:System.Windows.Controls.VirtualizingPanel> は、グループ化されたデータの UI の仮想化を有効にする <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> 添付プロパティを定義します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-124">The <xref:System.Windows.Controls.VirtualizingPanel> defines the <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> attached property that enables UI Virtualization for grouped data.</span></span>  <span data-ttu-id="7cdad-125">データのグループ化の詳細については、「方法:XAML でビューを使用してデータの並べ替えおよびグループ化を行う」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7cdad-125">For more information about grouping data, see How to: Sort and Group Data Using a View in XAML.</span></span>  <span data-ttu-id="7cdad-126">グループ化されたデータの仮想化の詳細については、<xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> 添付プロパティを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7cdad-126">For more information about virtualizing grouped data, see the <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> attached property.</span></span>  
  
<a name="VirtualizingPanel"></a>
## <a name="new-features-for-the-virtualizingpanel"></a><span data-ttu-id="7cdad-127">VirtualizingPanel の新機能</span><span class="sxs-lookup"><span data-stu-id="7cdad-127">New features for the VirtualizingPanel</span></span>  
  
1. <span data-ttu-id="7cdad-128"><xref:System.Windows.Controls.VirtualizingPanel> 添付プロパティを指定することで、<xref:System.Windows.Controls.VirtualizingStackPanel> (<xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> など) に部分的な項目を表示するかどうかを指定できます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-128">You can specify whether a <xref:System.Windows.Controls.VirtualizingPanel>, such as the <xref:System.Windows.Controls.VirtualizingStackPanel>, displays partial items by using the <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> attached property.</span></span> <span data-ttu-id="7cdad-129"><xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> が <xref:System.Windows.Controls.ScrollUnit.Item> に設定されている場合、<xref:System.Windows.Controls.VirtualizingPanel> には完全に表示される項目だけが表示されます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-129">If <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> is set to <xref:System.Windows.Controls.ScrollUnit.Item>, the <xref:System.Windows.Controls.VirtualizingPanel> will only display items that are completely visible.</span></span> <span data-ttu-id="7cdad-130"><xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> が <xref:System.Windows.Controls.ScrollUnit.Pixel> に設定されている場合、<xref:System.Windows.Controls.VirtualizingPanel> には部分的に表示される項目も表示されます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-130">If <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> is set to <xref:System.Windows.Controls.ScrollUnit.Pixel>, the <xref:System.Windows.Controls.VirtualizingPanel> can display partially visible items.</span></span>  
  
2. <span data-ttu-id="7cdad-131"><xref:System.Windows.Controls.VirtualizingPanel> 添付プロパティを使用して <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A> を仮想化すると、ビューポートの前後でキャッシュのサイズを指定できます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-131">You can specify the  size of the cache before and after the viewport when the <xref:System.Windows.Controls.VirtualizingPanel> is virtualizing by using the <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A> attached property.</span></span>  <span data-ttu-id="7cdad-132">キャッシュは、項目が仮想化されないビューポートの上または下の領域の量です。</span><span class="sxs-lookup"><span data-stu-id="7cdad-132">The cache is the amount of space above or below the viewport in which items are not virtualized.</span></span>  <span data-ttu-id="7cdad-133">キャッシュを使用して、UI 要素がビューにスクロールされたときに UI 要素が生成されないようすると、パフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-133">Using a cache to avoid generating UI elements as they’re scrolled into view can improve performance.</span></span> <span data-ttu-id="7cdad-134">キャッシュは、操作中にアプリケーションが応答を停止しないように低い優先度で実行されます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-134">The cache is populated at a lower priority so that the application does not become unresponsive during the operation.</span></span> <span data-ttu-id="7cdad-135"><xref:System.Windows.Controls.VirtualizingPanel.CacheLengthUnit%2A?displayProperty=nameWithType> プロパティは、<xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A?displayProperty=nameWithType> により使用される測定単位を決定します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-135">The <xref:System.Windows.Controls.VirtualizingPanel.CacheLengthUnit%2A?displayProperty=nameWithType> property determines the unit of measurement that is used by <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A?displayProperty=nameWithType>.</span></span>  
  
<a name="static_properties"></a>
## <a name="binding-to-static-properties"></a><span data-ttu-id="7cdad-136">静的プロパティへのバインド</span><span class="sxs-lookup"><span data-stu-id="7cdad-136">Binding to static properties</span></span>  
 <span data-ttu-id="7cdad-137">データ バインディングのソースとして静的プロパティを使用できます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-137">You can use static properties as the source of a data binding.</span></span> <span data-ttu-id="7cdad-138">データ バインディング エンジンは、静的イベントが発生した場合にプロパティの値が変更されたことを認識します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-138">The data binding engine recognizes when the property's value changes if a static event is raised.</span></span>  <span data-ttu-id="7cdad-139">たとえば、`SomeClass` クラスが `MyProperty` という静的プロパティを定義している場合、`SomeClass` は `MyProperty` の値が変更されたときに発生する静的イベントを定義できます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-139">For example, if the class `SomeClass` defines a static property called `MyProperty`, `SomeClass` can define a static event that is raised when the value of `MyProperty` changes.</span></span>  <span data-ttu-id="7cdad-140">静的イベントは、次のいずれかのシグネチャを使用できます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-140">The static event can use either of the following signatures.</span></span>  
  
- `public static event EventHandler MyPropertyChanged;`  
  
- `public static event EventHandler<PropertyChangedEventArgs> StaticPropertyChanged;`  
  
 <span data-ttu-id="7cdad-141">最初のケースでは、イベント ハンドラーに <xref:System.EventArgs> を渡す *PropertyName*`Changed` という名前の静的イベントがクラスにより公開されています。</span><span class="sxs-lookup"><span data-stu-id="7cdad-141">Note that in the first case, the class exposes a static event named *PropertyName*`Changed` that passes <xref:System.EventArgs> to the event handler.</span></span>  <span data-ttu-id="7cdad-142">2 番目のケースでは、イベント ハンドラーに `StaticPropertyChanged` を渡す <xref:System.ComponentModel.PropertyChangedEventArgs> という名前の静的イベントがクラスにより公開されています。</span><span class="sxs-lookup"><span data-stu-id="7cdad-142">In the second case, the class exposes a static event named `StaticPropertyChanged` that passes <xref:System.ComponentModel.PropertyChangedEventArgs> to the event handler.</span></span> <span data-ttu-id="7cdad-143">静的プロパティを実装するクラスは、いずれかの方法を使用してプロパティ変更通知を生成することを選択できます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-143">A class that implements the static property can choose to raise property-change notifications using either method.</span></span>  
  
<a name="xthread_access"></a>
## <a name="accessing-collections-on-non-ui-threads"></a><span data-ttu-id="7cdad-144">非 UI スレッドでのコレクションへのアクセス</span><span class="sxs-lookup"><span data-stu-id="7cdad-144">Accessing collections on non-UI Threads</span></span>  
 <span data-ttu-id="7cdad-145">WPF により、コレクションで作成されたスレッド以外のスレッドでデータ コレクションにアクセスして変更することが可能になります。</span><span class="sxs-lookup"><span data-stu-id="7cdad-145">WPF enables you to access and modify data collections on threads other than the one that created the collection.</span></span>  <span data-ttu-id="7cdad-146">このため、バックグラウンド スレッドを使用して、データベースなどの外部ソースからデータを受信し、UI スレッドにデータを表示することができます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-146">This enables you to use a background thread to receive data from an external source, such as a database, and display the data on the UI thread.</span></span>  <span data-ttu-id="7cdad-147">別のスレッドを使用してコレクションを変更することで、ユーザー インターフェイスはユーザー操作への応答を維持します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-147">By using another thread to modify the collection, your user interface remains responsive to user interaction.</span></span>  
  
<a name="INotifyDataErrorInfo"></a>
## <a name="synchronously-and-asynchronously-validating-data"></a><span data-ttu-id="7cdad-148">データの同期および非同期検証</span><span class="sxs-lookup"><span data-stu-id="7cdad-148">Synchronously and Asynchronously validating data</span></span>  
 <span data-ttu-id="7cdad-149"><xref:System.ComponentModel.INotifyDataErrorInfo> インターフェイスにより、データ エンティティ クラスは、ユーザー定義の検証規則を実装し、検証結果を非同期的に公開することができます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-149">The <xref:System.ComponentModel.INotifyDataErrorInfo> interface enables data entity classes to implement custom validation rules and expose validation results asynchronously.</span></span> <span data-ttu-id="7cdad-150">このインターフェイスは、カスタム エラー オブジェクト、プロパティごとの複数のエラー、プロパティ間のエラー、およびエンティティ レベルのエラーもサポートします。</span><span class="sxs-lookup"><span data-stu-id="7cdad-150">This interface also supports custom error objects, multiple errors per property, cross-property errors, and entity-level errors.</span></span>  <span data-ttu-id="7cdad-151">詳細については、「<xref:System.ComponentModel.INotifyDataErrorInfo>」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7cdad-151">For more information, see <xref:System.ComponentModel.INotifyDataErrorInfo>.</span></span>  
  
<a name="delay"></a>
## <a name="automatically-updating-the-source-of-a-data-binding"></a><span data-ttu-id="7cdad-152">データ バインディングのソースの自動更新</span><span class="sxs-lookup"><span data-stu-id="7cdad-152">Automatically updating the source of a data binding</span></span>  
 <span data-ttu-id="7cdad-153">データ バインディングを使用してデータ ソースを更新する場合、<xref:System.Windows.Data.BindingBase.Delay%2A> プロパティを使用して、ターゲットでプロパティが変更されてからソースが更新されるまでの時間の長さを指定できます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-153">If you use a data binding to update a data source, you can use the <xref:System.Windows.Data.BindingBase.Delay%2A> property to specify an amount of time to pass after the property changes on the target before the source updates.</span></span>  <span data-ttu-id="7cdad-154">たとえば、<xref:System.Windows.Controls.Slider> プロパティ データがデータ オブジェクトのプロパティに双方向にバインドされた <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> があり、<xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> プロパティが <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged> に設定されているとします。</span><span class="sxs-lookup"><span data-stu-id="7cdad-154">For example, suppose that you have a <xref:System.Windows.Controls.Slider> that has its <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> property data two-way bound to a property of a data object and the <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> property is set to <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged>.</span></span>  <span data-ttu-id="7cdad-155">この例では、ユーザーが <xref:System.Windows.Controls.Slider> を移動すると、<xref:System.Windows.Controls.Slider> が移動する各ピクセルのソースが更新されます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-155">In this example, when the user moves the <xref:System.Windows.Controls.Slider>, the source updates for each pixel that the <xref:System.Windows.Controls.Slider> moves.</span></span>  <span data-ttu-id="7cdad-156"><xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> が変更を停止した場合、ソース オブジェクトには通常スライダーの値のみ必要です。</span><span class="sxs-lookup"><span data-stu-id="7cdad-156">The source object typically needs the value of the slider only when the slider's <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> stops changing.</span></span>  <span data-ttu-id="7cdad-157">ソースがあまり頻繁に更新されないようにするには、<xref:System.Windows.Data.BindingBase.Delay%2A> を使用して、Thumb が移動を停止してから一定の時間が経過するまでソースが更新されないように指定します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-157">To prevent updating the source too often, use <xref:System.Windows.Data.BindingBase.Delay%2A> to specify that the source should not be updated until a certain amount of time elapses after the thumb stops moving.</span></span>  
  
<a name="ICustomTypeProvider"></a>
## <a name="binding-to-types-that-implement-icustomtypeprovider"></a><span data-ttu-id="7cdad-158">ICustomTypeProvider を実装する型へのバインド</span><span class="sxs-lookup"><span data-stu-id="7cdad-158">Binding to types that Implement ICustomTypeProvider</span></span>  
 <span data-ttu-id="7cdad-159">WPF では、<xref:System.Reflection.ICustomTypeProvider> を実装するオブジェクトへのデータ バインディングがサポートされます (カスタムの型とも呼ばれます)。</span><span class="sxs-lookup"><span data-stu-id="7cdad-159">WPF supports data binding to objects that implement <xref:System.Reflection.ICustomTypeProvider>, also known as custom types.</span></span>  <span data-ttu-id="7cdad-160">カスタムの型は、次の場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-160">You can use custom types in the following cases.</span></span>  
  
1. <span data-ttu-id="7cdad-161">データ バインディングにおける <xref:System.Windows.PropertyPath> として。</span><span class="sxs-lookup"><span data-stu-id="7cdad-161">As a <xref:System.Windows.PropertyPath> in a data binding.</span></span> <span data-ttu-id="7cdad-162">たとえば、<xref:System.Windows.Data.Binding.Path%2A> の <xref:System.Windows.Data.Binding> プロパティは、カスタムの型のプロパティを参照できます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-162">For example, the <xref:System.Windows.Data.Binding.Path%2A> property of a <xref:System.Windows.Data.Binding> can reference a property of a custom type.</span></span>  
  
2. <span data-ttu-id="7cdad-163"><xref:System.Windows.DataTemplate.DataType%2A> プロパティの値として。</span><span class="sxs-lookup"><span data-stu-id="7cdad-163">As the value of the <xref:System.Windows.DataTemplate.DataType%2A> property.</span></span>  
  
3. <span data-ttu-id="7cdad-164"><xref:System.Windows.Controls.DataGrid> で自動的に生成された列を決定する型として。</span><span class="sxs-lookup"><span data-stu-id="7cdad-164">As a type that determines the automatically generated columns in a <xref:System.Windows.Controls.DataGrid>.</span></span>  
  
<a name="binding_state"></a>
## <a name="retrieving-data-binding-information-from-a-binding-expression"></a><span data-ttu-id="7cdad-165">バインディング式からのデータ バインディング情報の取得</span><span class="sxs-lookup"><span data-stu-id="7cdad-165">Retrieving data binding information from a binding expression</span></span>  
 <span data-ttu-id="7cdad-166">場合によっては、<xref:System.Windows.Data.BindingExpression> の <xref:System.Windows.Data.Binding> を取得することがあり、バインディングのソースとターゲットのオブジェクトに関する情報を必要となる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7cdad-166">In certain cases, you might get the <xref:System.Windows.Data.BindingExpression> of a <xref:System.Windows.Data.Binding> and need information about the source and target objects of the binding.</span></span>  <span data-ttu-id="7cdad-167">ソースまたはターゲットのオブジェクトや関連プロパティを取得できるように、新しい API が追加されました。</span><span class="sxs-lookup"><span data-stu-id="7cdad-167">New APIs have been added to enable you to get the source or target object or the associated property.</span></span>  <span data-ttu-id="7cdad-168"><xref:System.Windows.Data.BindingExpression> がある場合、次の API を使用してターゲットおよびソースに関する情報を取得します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-168">When you have a <xref:System.Windows.Data.BindingExpression>, use the following APIs to get information about the target and source.</span></span>  
  
|<span data-ttu-id="7cdad-169">検出するバインディングの値</span><span class="sxs-lookup"><span data-stu-id="7cdad-169">To find this value of the binding</span></span>|<span data-ttu-id="7cdad-170">使用する API</span><span class="sxs-lookup"><span data-stu-id="7cdad-170">Use this API</span></span>|  
|---------------------------------------|------------------|  
|<span data-ttu-id="7cdad-171">ターゲット オブジェクト</span><span class="sxs-lookup"><span data-stu-id="7cdad-171">The target object</span></span>|<xref:System.Windows.Data.BindingExpressionBase.Target%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="7cdad-172">ターゲット プロパティ</span><span class="sxs-lookup"><span data-stu-id="7cdad-172">The target property</span></span>|<xref:System.Windows.Data.BindingExpressionBase.TargetProperty%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="7cdad-173">ソース オブジェクト</span><span class="sxs-lookup"><span data-stu-id="7cdad-173">The source object</span></span>|<xref:System.Windows.Data.BindingExpression.ResolvedSource%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="7cdad-174">ソース プロパティ</span><span class="sxs-lookup"><span data-stu-id="7cdad-174">The source property</span></span>|<xref:System.Windows.Data.BindingExpression.ResolvedSourcePropertyName%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="7cdad-175"><xref:System.Windows.Data.BindingExpression> が <xref:System.Windows.Data.BindingGroup> に属するかどうか</span><span class="sxs-lookup"><span data-stu-id="7cdad-175">Whether the <xref:System.Windows.Data.BindingExpression> belongs to a <xref:System.Windows.Data.BindingGroup></span></span>|<xref:System.Windows.Data.BindingExpressionBase.BindingGroup%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="7cdad-176"><xref:System.Windows.Data.BindingGroup> の所有者</span><span class="sxs-lookup"><span data-stu-id="7cdad-176">The owner of a <xref:System.Windows.Data.BindingGroup></span></span>|<xref:System.Windows.Data.BindingGroup.Owner%2A>|  
  
<a name="DisconnectedSource"></a>
## <a name="checking-for-a-valid-datacontext-object"></a><span data-ttu-id="7cdad-177">有効な DataContext オブジェクトの確認</span><span class="sxs-lookup"><span data-stu-id="7cdad-177">Checking for a valid DataContext object</span></span>  
 <span data-ttu-id="7cdad-178"><xref:System.Windows.FrameworkElement.DataContext%2A> にある項目のコンテナーの <xref:System.Windows.Controls.ItemsControl> が切断されるケースがあります。</span><span class="sxs-lookup"><span data-stu-id="7cdad-178">There are cases where the <xref:System.Windows.FrameworkElement.DataContext%2A> of an item container in an <xref:System.Windows.Controls.ItemsControl> becomes disconnected.</span></span>  <span data-ttu-id="7cdad-179">項目コンテナーは、<xref:System.Windows.Controls.ItemsControl> に項目を表示する UI 要素です。</span><span class="sxs-lookup"><span data-stu-id="7cdad-179">An item container is the UI element that displays an item in an <xref:System.Windows.Controls.ItemsControl>.</span></span>  <span data-ttu-id="7cdad-180"><xref:System.Windows.Controls.ItemsControl> がコレクションにバインドされたデータの場合、項目コンテナーは項目ごとに生成されます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-180">When an <xref:System.Windows.Controls.ItemsControl> is data bound to a collection, an item container is generated for each item.</span></span> <span data-ttu-id="7cdad-181">場合によっては、項目コンテナーがビジュアル ツリーから削除されます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-181">In some cases, item containers are removed from the visual tree.</span></span> <span data-ttu-id="7cdad-182">項目コンテナーが削除される 2 つの一般的なケースは、項目が基になるコレクションから削除されたときと、仮想化が <xref:System.Windows.Controls.ItemsControl> で有効になっているときです。</span><span class="sxs-lookup"><span data-stu-id="7cdad-182">Two typical cases where an item container is removed are when an item is removed from the underlying collection and when virtualization is enabled on the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="7cdad-183">このような場合、項目コンテナーの <xref:System.Windows.FrameworkElement.DataContext%2A> プロパティは、<xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A?displayProperty=nameWithType> の静的プロパティから返されるオブジェクトのセンティネル オブジェクトに設定されます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-183">In these cases, the <xref:System.Windows.FrameworkElement.DataContext%2A> property of the item container will be set to the sentinel object that is returned by the <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A?displayProperty=nameWithType> static property.</span></span>  <span data-ttu-id="7cdad-184">項目コンテナーの <xref:System.Windows.FrameworkElement.DataContext%2A> にアクセスする前に、<xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A> が <xref:System.Windows.FrameworkElement.DataContext%2A> オブジェクトと等しいかどうかを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7cdad-184">You should check whether the <xref:System.Windows.FrameworkElement.DataContext%2A> is equal to the <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A> object before accessing the <xref:System.Windows.FrameworkElement.DataContext%2A> of an item container.</span></span>  
  
<a name="live_shaping"></a>
## <a name="repositioning-data-as-the-datas-values-change-live-shaping"></a><span data-ttu-id="7cdad-185">データの値変更に伴うデータの再配置 (ライブ形成)</span><span class="sxs-lookup"><span data-stu-id="7cdad-185">Repositioning data as the data's values change (Live shaping)</span></span>  
 <span data-ttu-id="7cdad-186">データのコレクションは、グループ化、並べ替え、またはフィルター処理が可能です。</span><span class="sxs-lookup"><span data-stu-id="7cdad-186">A collection of data can be grouped, sorted, or filtered.</span></span> <span data-ttu-id="7cdad-187">WPF 4.5 により、データが変更されたときの再配置が可能になります。</span><span class="sxs-lookup"><span data-stu-id="7cdad-187">WPF 4.5 enables the data to be rearranged when the data is modified.</span></span> <span data-ttu-id="7cdad-188">たとえば、アプリケーションが <xref:System.Windows.Controls.DataGrid> を使用して株式市場の株式を一覧表示し、株式が株価によって並べ替えられるとします。</span><span class="sxs-lookup"><span data-stu-id="7cdad-188">For example, suppose that an application uses a <xref:System.Windows.Controls.DataGrid> to list stocks in a stock market and the stocks are sorted by stock value.</span></span> <span data-ttu-id="7cdad-189">株式の <xref:System.Windows.Data.CollectionView> でライブ並べ替えが有効な場合、株式が別の株式の価格を上回るか下回ると、<xref:System.Windows.Controls.DataGrid> における株式の位置が移動します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-189">If live sorting is enabled on the stocks' <xref:System.Windows.Data.CollectionView>, a stock's position in the <xref:System.Windows.Controls.DataGrid> moves when the value of the stock becomes greater or less than another stock's value.</span></span>   <span data-ttu-id="7cdad-190">詳細については、<xref:System.ComponentModel.ICollectionViewLiveShaping> インターフェイスのトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7cdad-190">For more information, see the <xref:System.ComponentModel.ICollectionViewLiveShaping> interface.</span></span>  
  
<a name="weak_event_pattern"></a>
## <a name="improved-support-for-establishing-a-weak-reference-to-an-event"></a><span data-ttu-id="7cdad-191">イベントへの弱い参照確立のサポート強化</span><span class="sxs-lookup"><span data-stu-id="7cdad-191">Improved Support for Establishing a Weak Reference to an Event</span></span>  
 <span data-ttu-id="7cdad-192">追加のインターフェイスを実装しなくてもイベントへのサブスクライバーがイベントに参加できるため、弱いパターンの実装が簡単になりました。</span><span class="sxs-lookup"><span data-stu-id="7cdad-192">Implementing the weak event pattern is now easier because subscribers to events can participate in it without implementing an extra interface.</span></span>  <span data-ttu-id="7cdad-193">一般的な <xref:System.Windows.WeakEventManager> クラスでは、専用の <xref:System.Windows.WeakEventManager> が特定のイベントに存在しない場合は、サブスクライバーが弱いイベント パターンにも参加できるようになりました。</span><span class="sxs-lookup"><span data-stu-id="7cdad-193">The generic <xref:System.Windows.WeakEventManager> class also enables subscribers to participate in the weak event pattern if a dedicated <xref:System.Windows.WeakEventManager> does not exist for a certain event.</span></span>  <span data-ttu-id="7cdad-194">詳細については、「[弱いイベント パターン](../advanced/weak-event-patterns.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7cdad-194">For more information, see [Weak Event Patterns](../advanced/weak-event-patterns.md).</span></span>  
  
<a name="async"></a>
## <a name="new-methods-for-the-dispatcher-class"></a><span data-ttu-id="7cdad-195">ディスパッチャー クラスの新しいメソッド</span><span class="sxs-lookup"><span data-stu-id="7cdad-195">New methods for the Dispatcher class</span></span>  
 <span data-ttu-id="7cdad-196">ディスパッチャー クラスは、同期操作および非同期操作の新しいメソッドを定義します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-196">The Dispatcher class defines new methods for synchronous and asynchronous operations.</span></span>  <span data-ttu-id="7cdad-197">同期メソッドである <xref:System.Windows.Threading.Dispatcher.Invoke%2A> は、<xref:System.Action> パラメーターまたは <xref:System.Func%601> パラメーターを受け取るオーバーロードを定義します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-197">The synchronous <xref:System.Windows.Threading.Dispatcher.Invoke%2A> method defines overloads that take an <xref:System.Action> or <xref:System.Func%601> parameter.</span></span> <span data-ttu-id="7cdad-198">新しい非同期メソッドである <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>は、コールバック パラメーターとして <xref:System.Action> か <xref:System.Func%601> を受け取り、<xref:System.Windows.Threading.DispatcherOperation> か <xref:System.Windows.Threading.DispatcherOperation%601> を返します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-198">The new asynchronous method, <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, also takes an <xref:System.Action> or <xref:System.Func%601> as the callback parameter and returns a <xref:System.Windows.Threading.DispatcherOperation> or <xref:System.Windows.Threading.DispatcherOperation%601>.</span></span>   <span data-ttu-id="7cdad-199"><xref:System.Windows.Threading.DispatcherOperation> クラスと <xref:System.Windows.Threading.DispatcherOperation%601> クラスは、<xref:System.Threading.Tasks.Task> プロパティを定義します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-199">The <xref:System.Windows.Threading.DispatcherOperation> and <xref:System.Windows.Threading.DispatcherOperation%601> classes define a <xref:System.Threading.Tasks.Task> property.</span></span>  <span data-ttu-id="7cdad-200"><xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A> を呼び出すと、`await` または関連付けられた <xref:System.Windows.Threading.DispatcherOperation>の <xref:System.Threading.Tasks.Task> を持つキーワードを使用できます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-200">When you call <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, you can use the `await` keyword with either the <xref:System.Windows.Threading.DispatcherOperation> or the associated <xref:System.Threading.Tasks.Task>.</span></span> <span data-ttu-id="7cdad-201"><xref:System.Threading.Tasks.Task> または <xref:System.Windows.Threading.DispatcherOperation> によって返される <xref:System.Windows.Threading.DispatcherOperation%601> を同期的に待機する必要がある場合、<xref:System.Windows.Threading.TaskExtensions.DispatcherOperationWait%2A> 拡張メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-201">If you need to wait synchronously for the <xref:System.Threading.Tasks.Task> that is returned by a <xref:System.Windows.Threading.DispatcherOperation> or <xref:System.Windows.Threading.DispatcherOperation%601>, call the <xref:System.Windows.Threading.TaskExtensions.DispatcherOperationWait%2A> extension method.</span></span> <span data-ttu-id="7cdad-202"><xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> を呼び出すと、呼び出し元スレッドで操作がキューに置かれた場合はデッドロックが発生します。</span><span class="sxs-lookup"><span data-stu-id="7cdad-202">Calling <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> will result in a deadlock if the operation is queued on a calling thread.</span></span> <span data-ttu-id="7cdad-203"><xref:System.Threading.Tasks.Task> を使用して非同期操作を実行する方法の詳細については、「[タスクの並列化 (タスク並列ライブラリ)](/dotnet/standard/parallel-programming/task-based-asynchronous-programming)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7cdad-203">For more information about using a <xref:System.Threading.Tasks.Task> to perform asynchronous operations, see [Task Parallelism (Task Parallel Library)](/dotnet/standard/parallel-programming/task-based-asynchronous-programming).</span></span>  
  
<a name="events_markup_extenions"></a>
## <a name="markup-extensions-for-events"></a><span data-ttu-id="7cdad-204">イベントのマークアップ拡張機能</span><span class="sxs-lookup"><span data-stu-id="7cdad-204">Markup Extensions for Events</span></span>  
 <span data-ttu-id="7cdad-205">WPF 4.5 では、イベントのマークアップ拡張機能がサポートされます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-205">WPF 4.5 supports markup extensions for events.</span></span>  <span data-ttu-id="7cdad-206">WPF はイベントに使用されるマークアップ拡張機能を定義しませんが、サードパーティがイベントで使用できるマークアップ拡張機能を作成できます。</span><span class="sxs-lookup"><span data-stu-id="7cdad-206">While WPF does not define a markup extension to be used for events, third parties are able to create a markup extension that can be used with events.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7cdad-207">関連項目</span><span class="sxs-lookup"><span data-stu-id="7cdad-207">See also</span></span>

- [<span data-ttu-id="7cdad-208">.NET Framework の新機能</span><span class="sxs-lookup"><span data-stu-id="7cdad-208">What's New in the .NET Framework</span></span>](/dotnet/framework/whats-new/index)
