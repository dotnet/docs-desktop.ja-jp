---
title: イベントの概要
ms.date: 03/30/2017
ms.topic: overview
helpviewer_keywords:
- Windows Forms, event handling
- events [Windows Forms], about events
- delegates [Windows Forms], multicast
- delegates [Windows Forms], events and
- multicast event delegates
- Windows Forms controls, events
ms.assetid: 814a6a43-a312-4791-88d8-f75f9a4f8c4c
ms.openlocfilehash: 88d369497d6a17ab9935d33fc53a7e63cb518965
ms.sourcegitcommit: 9f6df084c53a3da0ea657ed0d708a72213683084
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/09/2020
ms.locfileid: "96981900"
---
# <a name="events-overview-windows-forms"></a><span data-ttu-id="80ee6-102">イベントの概要 (Windows フォーム)</span><span class="sxs-lookup"><span data-stu-id="80ee6-102">Events Overview (Windows Forms)</span></span>

<span data-ttu-id="80ee6-103">イベントとは、プログラマが応答できる、つまり、コードを使って "処理" できるアクションのことです。</span><span class="sxs-lookup"><span data-stu-id="80ee6-103">An event is an action which you can respond to, or "handle," in code.</span></span> <span data-ttu-id="80ee6-104">イベントは、マウスのクリックやキーを押すなどのユーザー アクション、プログラム コードまたはシステムによって生成されます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-104">Events can be generated by a user action, such as clicking the mouse or pressing a key; by program code; or by the system.</span></span>

 <span data-ttu-id="80ee6-105">イベント ドリブン アプリケーションでは、イベントに応答してコードが実行されます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-105">Event-driven applications execute code in response to an event.</span></span> <span data-ttu-id="80ee6-106">各フォームおよびコントロールは、定義済みのイベント セットを公開しており、プログラマはそれらに対応するプログラムを作成できます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-106">Each form and control exposes a predefined set of events that you can program against.</span></span> <span data-ttu-id="80ee6-107">これらのイベントの 1 つが発生したときに、関連するイベント ハンドラーにコードがある場合は、そのコードが呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-107">If one of these events occurs and there is code in the associated event handler, that code is invoked.</span></span>

 <span data-ttu-id="80ee6-108">オブジェクトが発生させるイベントにはさまざまな種類がありますが、その多くがほとんどのコントロールで共通です。</span><span class="sxs-lookup"><span data-stu-id="80ee6-108">The types of events raised by an object vary, but many types are common to most controls.</span></span> <span data-ttu-id="80ee6-109">たとえば、<xref:System.Windows.Forms.Control.Click> イベントは、ほとんどのオブジェクトで処理されます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-109">For example, most objects will handle a <xref:System.Windows.Forms.Control.Click> event.</span></span> <span data-ttu-id="80ee6-110">ユーザーがフォームをクリックすると、フォームの <xref:System.Windows.Forms.Control.Click> イベント ハンドラー内のコードが実行されます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-110">If a user clicks a form, code in the form's <xref:System.Windows.Forms.Control.Click> event handler is executed.</span></span>

> [!NOTE]
> <span data-ttu-id="80ee6-111">イベントの多くは、他のイベントと共に発生します。</span><span class="sxs-lookup"><span data-stu-id="80ee6-111">Many events occur in conjunction with other events.</span></span> <span data-ttu-id="80ee6-112">たとえば、<xref:System.Windows.Forms.Control.DoubleClick> イベントが発生する場合は、<xref:System.Windows.Forms.Control.MouseDown>、<xref:System.Windows.Forms.Control.MouseUp>、および <xref:System.Windows.Forms.Control.Click> の各イベントが発生します。</span><span class="sxs-lookup"><span data-stu-id="80ee6-112">For example, in the course of the <xref:System.Windows.Forms.Control.DoubleClick> event occurring, the <xref:System.Windows.Forms.Control.MouseDown>, <xref:System.Windows.Forms.Control.MouseUp>, and <xref:System.Windows.Forms.Control.Click> events occur.</span></span>

 <span data-ttu-id="80ee6-113">イベントを発生させて使用する方法の詳細については、「 [Events](/dotnet/standard/events/index)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="80ee6-113">For information about how to raise and consume an event, see [Events](/dotnet/standard/events/index).</span></span>

## <a name="delegates-and-their-role"></a><span data-ttu-id="80ee6-114">デリゲートとその役割</span><span class="sxs-lookup"><span data-stu-id="80ee6-114">Delegates and Their Role</span></span>

 <span data-ttu-id="80ee6-115">デリゲートは、イベント処理機構を構築するために .NET Framework 内で一般的に使用されるクラスです。</span><span class="sxs-lookup"><span data-stu-id="80ee6-115">Delegates are classes commonly used within the .NET Framework to build event-handling mechanisms.</span></span> <span data-ttu-id="80ee6-116">デリゲートは関数ポインターとほぼ同等のものであり、Visual C++ およびその他のオブジェクト指向言語でよく使用されます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-116">Delegates roughly equate to function pointers, commonly used in Visual C++ and other object-oriented languages.</span></span> <span data-ttu-id="80ee6-117">ただし、関数ポインターとは異なり、デリゲートはオブジェクト指向で、タイプ セーフで、安全です。</span><span class="sxs-lookup"><span data-stu-id="80ee6-117">Unlike function pointers however, delegates are object-oriented, type-safe, and secure.</span></span> <span data-ttu-id="80ee6-118">また、関数ポインターには特定の関数への参照だけが含まれていますが、デリゲートはオブジェクトへの参照、およびそのオブジェクト内の 1 つ以上のメソッドへの参照で構成されています。</span><span class="sxs-lookup"><span data-stu-id="80ee6-118">In addition, where a function pointer contains only a reference to a particular function, a delegate consists of a reference to an object, and references to one or more methods within the object.</span></span>

 <span data-ttu-id="80ee6-119">このイベントモデルでは、 *デリゲート* を使用して、イベントを処理するために使用されるメソッドにイベントをバインドします。</span><span class="sxs-lookup"><span data-stu-id="80ee6-119">This event model uses *delegates* to bind events to the methods that are used to handle them.</span></span> <span data-ttu-id="80ee6-120">デリゲートを使用すると、ハンドラーのメソッドを指定することにより、イベント通知のための他のクラスを登録できます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-120">The delegate enables other classes to register for event notification by specifying a handler method.</span></span> <span data-ttu-id="80ee6-121">イベントが発生すると、デリゲートは関連付けられたメソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="80ee6-121">When the event occurs, the delegate calls the bound method.</span></span> <span data-ttu-id="80ee6-122">デリゲートを定義する方法の詳細については、「 [イベント](/dotnet/standard/events/index)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="80ee6-122">For more information about how to define delegates, see [Events](/dotnet/standard/events/index).</span></span>

<span data-ttu-id="80ee6-123">デリゲートは、単一のメソッドまたは複数のメソッドに関連付けることができます。後者は、マルチキャストと呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-123">Delegates can be bound to a single method or to multiple methods, referred to as multicasting.</span></span> <span data-ttu-id="80ee6-124">イベントのデリゲートを作成する場合、ユーザー (または Windows) は通常、マルチキャストイベントを作成します。</span><span class="sxs-lookup"><span data-stu-id="80ee6-124">When creating a delegate for an event, you (or the Windows) typically create a multicast event.</span></span> <span data-ttu-id="80ee6-125">例外は、1 回のイベントで複数回実行されることが論理的にあり得ないような特定のプロシージャ (ダイアログ ボックスの表示など) を呼び出すイベントです。</span><span class="sxs-lookup"><span data-stu-id="80ee6-125">A rare exception might be an event that results in a specific procedure (such as displaying a dialog box) that would not logically repeat multiple times per event.</span></span> <span data-ttu-id="80ee6-126">マルチキャストデリゲートを作成する方法の詳細については、「 [デリゲートを結合する方法 (マルチキャストデリゲート)](/dotnet/csharp/programming-guide/delegates/how-to-combine-delegates-multicast-delegates)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="80ee6-126">For information about how to create a multicast delegate, see [How to combine delegates (Multicast Delegates)](/dotnet/csharp/programming-guide/delegates/how-to-combine-delegates-multicast-delegates).</span></span>

 <span data-ttu-id="80ee6-127">マルチキャスト デリゲートは、関連付けられたメソッドの呼び出しリストを保持します。</span><span class="sxs-lookup"><span data-stu-id="80ee6-127">A multicast delegate maintains an invocation list of the methods it is bound to.</span></span> <span data-ttu-id="80ee6-128">マルチキャスト デリゲートでは、呼び出しリストにメソッドを追加する <xref:System.Delegate.Combine%2A> メソッド、およびリストからメソッドを削除する <xref:System.Delegate.Remove%2A> メソッドがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="80ee6-128">The multicast delegate supports a <xref:System.Delegate.Combine%2A> method to add a method to the invocation list and a <xref:System.Delegate.Remove%2A> method to remove it.</span></span>

 <span data-ttu-id="80ee6-129">アプリケーションによってイベントが記録されると、コントロールは、そのイベント用のデリゲートを呼び出すことによってイベントを発生させます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-129">When an event is recorded by the application, the control raises the event by invoking the delegate for that event.</span></span> <span data-ttu-id="80ee6-130">次に、デリゲートによって、関連付けられたメソッドが呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-130">The delegate in turn calls the bound method.</span></span> <span data-ttu-id="80ee6-131">ほとんどの場合、デリゲート (通常はマルチキャスト デリゲート) では、呼び出しリストにある関連付けされた各メソッドが順番に呼び出されるため、一対多通知を実行できます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-131">In the most common case (a multicast delegate) the delegate calls each bound method in the invocation list in turn, which provides a one-to-many notification.</span></span> <span data-ttu-id="80ee6-132">この方法では、すべての登録と通知がデリゲートによって処理されるため、コントロールでは、イベント通知の対象となるオブジェクトのリストを保持する必要がありません。</span><span class="sxs-lookup"><span data-stu-id="80ee6-132">This strategy means that the control does not need to maintain a list of target objects for event notification—the delegate handles all registration and notification.</span></span>

 <span data-ttu-id="80ee6-133">デリゲートでは、複数のイベントを同じメソッドに関連付けし、多対一通知を実行することもできます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-133">Delegates also enable multiple events to be bound to the same method, allowing a many-to-one notification.</span></span> <span data-ttu-id="80ee6-134">たとえば、ボタンとメニューコマンドのクリック イベントで、同じデリゲートを呼び出すことができます。呼び出されたデリゲートによって単一のメソッドが呼び出されるので、どちらのイベントも同じように処理されます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-134">For example, a button-click event and a menu-command–click event can both invoke the same delegate, which then calls a single method to handle these separate events the same way.</span></span>

 <span data-ttu-id="80ee6-135">デリゲートと共に使用される関連付けの機構は動的です。デリゲートは、シグネチャがイベント ハンドラのシグネチャと一致する任意のメソッドに実行時に関連付けできます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-135">The binding mechanism used with delegates is dynamic: a delegate can be bound at run time to any method whose signature matches that of the event handler.</span></span> <span data-ttu-id="80ee6-136">この機能によって、状況に応じて関連付けるメソッドを設定または変更したり、イベント ハンドラをコントロールに動的に関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="80ee6-136">With this feature, you can set up or change the bound method depending on a condition and to dynamically attach an event handler to a control.</span></span>

## <a name="see-also"></a><span data-ttu-id="80ee6-137">関連項目</span><span class="sxs-lookup"><span data-stu-id="80ee6-137">See also</span></span>

- [<span data-ttu-id="80ee6-138">Windows フォーム内でのイベント ハンドラーの作成</span><span class="sxs-lookup"><span data-stu-id="80ee6-138">Creating Event Handlers in Windows Forms</span></span>](creating-event-handlers-in-windows-forms.md)
- [<span data-ttu-id="80ee6-139">イベント ハンドラーの概要</span><span class="sxs-lookup"><span data-stu-id="80ee6-139">Event Handlers Overview</span></span>](event-handlers-overview-windows-forms.md)
